<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>
  
     3 Jug Problem Python Code | 
    Bhrigu Srivastava
  
</title><meta name="description" content="Python implementation of 3 jug water problem. Solution explanation and code, written in Python and using Depth First Search (DFS)"><meta name="author" content="Bhrigu">

<link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/favicon-32x32.png " sizes="32x32" type="image/png">
<link rel="icon" href="/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#0c344b">
<link rel="icon" href="/favicon.ico">


    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/themes/prism-okaidia.min.css">
    



    
        
    
        
    
        
    
        
    
        
    
        
            <link rel="stylesheet" href="/dist/main.min.css">
        
    




<link rel="canonical" href="https://bhrigu.me/post/3-jug-problem-python-code/"><meta property="og:title" content="3 Jug Problem Python Code" />
<meta property="og:description" content="Python implementation of 3 jug water problem. Solution explanation and code, written in Python and using Depth First Search (DFS)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bhrigu.me/post/3-jug-problem-python-code/" />
<meta property="og:image" content="https://bhrigu.me/jug/jug.jpg" />
<meta property="article:published_time" content="2016-04-04T00:00:00+00:00" />
<meta property="article:modified_time" content="2017-02-13T19:57:57+05:30" />
<meta itemprop="name" content="3 Jug Problem Python Code">
<meta itemprop="description" content="Python implementation of 3 jug water problem. Solution explanation and code, written in Python and using Depth First Search (DFS)">
<meta itemprop="datePublished" content="2016-04-04T00:00:00+00:00" />
<meta itemprop="dateModified" content="2017-02-13T19:57:57+05:30" />
<meta itemprop="wordCount" content="449">
<meta itemprop="image" content="https://bhrigu.me/jug/jug.jpg">



<meta itemprop="keywords" content="Programming," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://bhrigu.me/jug/jug.jpg"/>

<meta name="twitter:title" content="3 Jug Problem Python Code"/>
<meta name="twitter:description" content="Python implementation of 3 jug water problem. Solution explanation and code, written in Python and using Depth First Search (DFS)"/>

</head>
<body>
    
<nav class="navbar navbar-expand-md navbar-light bg-light fixed-top shadow-sm" id="navbar-main-menu">
    <div class="container">
        <a class="navbar-brand font-weight-bold" href="https://bhrigu.me">Bhrigu Srivastava</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-menu" aria-controls="main-menu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="main-menu">
            <ul class="navbar-nav ml-auto">
                
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/about/">About</a></li>
                
            
            </ul>
        </div>
    </div>
</nav>


    
<main class="content-page container pt-7 pb-5">
    
    <div class="row">
        <div class="col">
            <article>
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="meta text-muted mb-3">
                            <p class="created text-muted text-uppercase font-weight-bold mb-1">April 4, 2016</p>
                            <span class="mr-2"><i class="fas fa-book-open mr-2"></i>449 words</span>
                            <span><i class="fas fa-clock mr-2"></i>3 mins read</span>
                        </div>

                        <h1>3 Jug Problem Python Code</h1>

                        <ul class="authors list-inline"><li class="list-inline-item mr-3">
                    <div class="media author"><a href="/authors/bhrigu/" class="mr-3">
                                    <picture>
                                        <source srcset="/authors/bhrigu/bhrigu2_hu1b7f0cd996389c1aabc89276bfdf6b57_264677_64x0_resize_q75_box.jpg 1x, /authors/bhrigu/bhrigu2_hu1b7f0cd996389c1aabc89276bfdf6b57_264677_128x0_resize_q100_box.jpg 2x, /authors/bhrigu/bhrigu2_hu1b7f0cd996389c1aabc89276bfdf6b57_264677_192x0_resize_q100_box.jpg 3x">
                                        <img src="/authors/bhrigu/bhrigu2_hu1b7f0cd996389c1aabc89276bfdf6b57_264677_64x0_resize_q75_box.jpg" class="rounded-circle" alt="Bhrigu Srivastava">
                                    </picture>
                                </a><div class="media-body">
                            <h5 class="name my-0"><a href="/authors/bhrigu/" class="small">Bhrigu Srivastava</a>
                            </h5><p class="social small text-muted">
                                    <a href="https://twitter.com/@captainbhrigu">@CaptainBhrigu</a>
                                </p></div>
                    </div>
                </li></ul>
                    </div>
                </div><div class="row justify-content-center mb-3">
                                <div class="col-lg-10">
                                    <img data-src="/images/jug/jug_hue1bd731db99909c43fb5d578833012dc_46136_900x500_fit_q75_box.jpg" class="img-fluid rounded mx-auto d-block" alt="3 Jug Problem Python Code">
                                </div>
                            </div><div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="content">
                            <p>I came across this image by a Facebook page (<a href="https://www.facebook.com/curiositydotcom/">Curiosity</a>), which asked a solution to the famous Water Jug problem, involving 3 jugs.</p>
<p><strong>Problem</strong>: Given 3 jugs of capacites: 12, 8 and 5 litres. Our 12 L jug is completely filled. Using these 3 jugs split the water to obtain exactly 6 Litres.</p>
<p>So I thought of writing a code in python to obtain the solution to the problem, instead of doing hit and trial.</p>
<p>I used DFS to search through all the states of the jugs. At each state, we&rsquo;ll have certain choices of emptying water from one jug into another. We&rsquo;ll try each choice, calling our function for each state, and if we reach the goal state, we stop.</p>
<p>[<em>Note that the given program could be made smaller/modular, but it is more understandable given this way. Also, DFS might not give an optimal (best path) solution. For that use BFS</em>]</p>
<pre><code class="language-python"># 3 water jugs capacity -&gt; (x,y,z) where x&gt;y&gt;z
# initial state (12,0,0)
# final state (6,6,0)


capacity = (12,8,5) 
# Maximum capacities of 3 jugs -&gt; x,y,z
x = capacity[0]
y = capacity[1]
z = capacity[2]

# to mark visited states
memory = {}

# store solution path
ans = []

def get_all_states(state):
	# Let the 3 jugs be called a,b,c
	a = state[0]
	b = state[1]
	c = state[2]

	if(a==6 and b==6):
		ans.append(state)
		return True

	# if current state is already visited earlier
	if((a,b,c) in memory):
		return False

	memory[(a,b,c)] = 1

	#empty jug a
	if(a&gt;0):
		#empty a into b
		if(a+b&lt;=y):
			if( get_all_states((0,a+b,c)) ):
				ans.append(state)
				return True
		else:
			if( get_all_states((a-(y-b), y, c)) ):
				ans.append(state)
				return True
		#empty a into c
		if(a+c&lt;=z):
			if( get_all_states((0,b,a+c)) ):
				ans.append(state)
				return True
		else:
			if( get_all_states((a-(z-c), b, z)) ):
				ans.append(state)
				return True

	#empty jug b
	if(b&gt;0):
		#empty b into a
		if(a+b&lt;=x):
			if( get_all_states((a+b, 0, c)) ):
				ans.append(state)
				return True
		else:
			if( get_all_states((x, b-(x-a), c)) ):
				ans.append(state)
				return True
		#empty b into c
		if(b+c&lt;=z):
			if( get_all_states((a, 0, b+c)) ):
				ans.append(state)
				return True
		else:
			if( get_all_states((a, b-(z-c), z)) ):
				ans.append(state)
				return True

	#empty jug c
	if(c&gt;0):
		#empty c into a
		if(a+c&lt;=x):
			if( get_all_states((a+c, b, 0)) ):
				ans.append(state)
				return True
		else:
			if( get_all_states((x, b, c-(x-a))) ):
				ans.append(state)
				return True
		#empty c into b
		if(b+c&lt;=y):
			if( get_all_states((a, b+c, 0)) ):
				ans.append(state)
				return True
		else:
			if( get_all_states((a, y, c-(y-b))) ):
				ans.append(state)
				return True

	return False

initial_state = (12,0,0)
print(&quot;Starting work...\n&quot;)
get_all_states(initial_state)
ans.reverse()
for i in ans:
	print(i)

</code></pre>
<pre><code class="language-sh">Starting work...

(12, 0, 0)
(4, 8, 0)
(0, 8, 4)
(8, 0, 4)
(8, 4, 0)
(3, 4, 5)
(3, 8, 1)
(11, 0, 1)
(11, 1, 0)
(6, 1, 5)
(6, 6, 0)
</code></pre>
<p>and that&rsquo;s pretty much it.</p>
<p>Leave in the comments if you have anything in mind.</p>
                        </div><div class="tags my-3"><a class="badge badge-pill badge-light border mr-2" href="/tags/programming">
                                    <i class="fas fa-tag mr-2"></i>Programming
                                </a></div><ul class="share nav my-3 justify-content-end">
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://twitter.com/intent/tweet?url=https%3a%2f%2fbhrigu.me%2fpost%2f3-jug-problem-python-code%2f&text=3%20Jug%20Problem%20Python%20Code">
              <i class="fa-fw fab fa-twitter"></i>
          </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fbhrigu.me%2fpost%2f3-jug-problem-python-code%2f&title=3%20Jug%20Problem%20Python%20Code">
                <i class="fa-fw fab fa-linkedin-in"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fbhrigu.me%2fpost%2f3-jug-problem-python-code%2f&t=3%20Jug%20Problem%20Python%20Code">
                <i class="fa-fw fab fa-facebook-f"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://reddit.com/submit?url=https%3a%2f%2fbhrigu.me%2fpost%2f3-jug-problem-python-code%2f&title=3%20Jug%20Problem%20Python%20Code">
                <i class="fa-fw fab fa-reddit-alien"></i>
            </a>
        </li>
    </nav>
                    </div>
                </div>

                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "bhrigu" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                    </div>
                </div></article>
        </div>
    </div>

    
</main>


    <footer class="footer text-center bg-dark py-6">
    <div class="container">
        <div class="row">
            <div class="col">
                <ul class="list-inline">
                    <li class="list-inline-item"><a href="https://bhrigu.me/index.xml" rel="alternate" type="application/rss+xml" class="icons d-block">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a></li><li class="list-inline-item">
                        <a href="mailto:captain.bhrigu@gmail.com" class="icons d-block">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li><li class="list-inline-item">
                            <a href="https://www.facebook.com/bhrigu123/" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-facebook fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://github.com/bhrigu123/" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://twitter.com/CaptainBhrigu" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                </ul>

                <p class="text-muted">
                    
                        Copyright © 2016–2020, Bhrigu Srivastava; all rights reserved.
                    
                </p>

                <p class="text-muted">
                Powered by <a href="https://gohugo.io" target="_blank">Hugo</a>.
                </p>
            </div>
        </div>
    </div>
</footer>

    
    
        
            <script src="/dist/[vendors-node_modules_fortawesome_fontawesome-svg-core_index_es_js-node_modules_fortawesome_fr-02de40.js%20vendors-node_modules_jquery_dist_jquery_js.js]"></script>
        
    
        
            <script src="/dist/app.js"></script>
        
    
        
            <script src="/dist/bootstrap.js"></script>
        
    
        
            <script src="/dist/ekkoLightbox.js"></script>
        
    
        
            <script src="/dist/lazyload.js"></script>
        
    
        
            <script src="/dist/main.js"></script>
        
    



<script>
    window.Prism = window.Prism || {};
    window.Prism.manual = true;
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/plugins/autoloader/prism-autoloader.min.js"></script>






    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-64358360-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</body>
</html>
