<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>
  
     Huffman Coding Python Implementation | 
    Bhrigu Srivastava
  
</title><meta name="description" content="Python implementation of Huffman Coding, with working compression and decompression functions"><meta name="author" content="Bhrigu Srivastava">

<link rel="apple-touch-icon" href="/bhrigu123.github.io/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/bhrigu123.github.io/favicon-32x32.png " sizes="32x32" type="image/png">
<link rel="icon" href="/bhrigu123.github.io/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/bhrigu123.github.io/manifest.json">
<link rel="mask-icon" href="/bhrigu123.github.io/safari-pinned-tab.svg" color="#0c344b">
<link rel="icon" href="/bhrigu123.github.io/favicon.ico">


    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/themes/prism-okaidia.min.css">
    



    
        
    
        
    
        
    
        
    
        
    
        
            <link rel="stylesheet" href="/bhrigu123.github.io/dist/main.min.css">
        
    




<link rel="canonical" href="bhrigu123.github.io/post/huffman-coding-python-implementation/"><meta property="og:title" content="Huffman Coding Python Implementation" />
<meta property="og:description" content="Python implementation of Huffman Coding, with working compression and decompression functions" />
<meta property="og:type" content="article" />
<meta property="og:url" content="bhrigu123.github.io/post/huffman-coding-python-implementation/" />
<meta property="og:image" content="bhrigu123.github.io/huffman/huffman.png" />
<meta property="article:published_time" content="2017-01-17T00:00:00+00:00" />
<meta property="article:modified_time" content="2017-01-17T00:00:00+00:00" />
<meta itemprop="name" content="Huffman Coding Python Implementation">
<meta itemprop="description" content="Python implementation of Huffman Coding, with working compression and decompression functions">
<meta itemprop="datePublished" content="2017-01-17T00:00:00+00:00" />
<meta itemprop="dateModified" content="2017-01-17T00:00:00+00:00" />
<meta itemprop="wordCount" content="644">
<meta itemprop="image" content="bhrigu123.github.io/huffman/huffman.png">



<meta itemprop="keywords" content="Programming," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="bhrigu123.github.io/huffman/huffman.png"/>

<meta name="twitter:title" content="Huffman Coding Python Implementation"/>
<meta name="twitter:description" content="Python implementation of Huffman Coding, with working compression and decompression functions"/>

</head>
<body>
    
<nav class="navbar navbar-expand-md navbar-light bg-light fixed-top shadow-sm" id="navbar-main-menu">
    <div class="container">
        <a class="navbar-brand font-weight-bold" href="bhrigu123.github.io">Bhrigu Srivastava</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-menu" aria-controls="main-menu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="main-menu">
            <ul class="navbar-nav ml-auto">
                
                    <li class="nav-item"><a class="nav-link" href="/bhrigu123.github.io/">Home</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/bhrigu123.github.io/about/">About</a></li>
                
            
            </ul>
        </div>
    </div>
</nav>


    
<main class="content-page container pt-7 pb-5">
    
    <div class="row">
        <div class="col">
            <article>
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="meta text-muted mb-3">
                            <p class="created text-muted text-uppercase font-weight-bold mb-1">January 17, 2017</p>
                            <span class="mr-2"><i class="fas fa-book-open mr-2"></i>644 words</span>
                            <span><i class="fas fa-clock mr-2"></i>4 mins read</span>
                        </div>

                        <h1>Huffman Coding Python Implementation</h1>

                        
                    </div>
                </div><div class="row justify-content-center mb-3">
                                <div class="col-lg-10">
                                    <img data-src="/bhrigu123.github.io/images/huffman/huffman_hudfde406ed97f3c78cabe675f4c0cb9d9_14769_900x500_fit_box_2.png" class="img-fluid rounded mx-auto d-block" alt="Huffman Coding Python Implementation">
                                </div>
                            </div><div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="content">
                            <p>Huffman Coding is one of the lossless data compression techniques. It assigns variable-length codes to the input characters, based on the frequencies of their occurence. The most frequent character is given the smallest length code.</p>
<hr>
<p><strong>Update</strong>: I now have this article as YouTube video lessons now. It&rsquo;s in two parts: 1) Explanation of Huffman Coding 2) Implementing Huffman Coding in Python with explanation and doing hands-on coding with a demo. Check out the videos on <strong>Youtube</strong> below:</p>
<ol>
<li><a href="https://youtu.be/_Kl3TtBXxq8">Huffman Coding - Explanation and Example</a></li>
<li><a href="https://youtu.be/JCOph23TQTY">Huffman Coding - Python Implementation and Demo</a></li>
</ol>
<hr>
<p>[contd.]</p>
<p>I thought of implementing the data compression program. The key things in the implementation were:</p>
<ul>
<li>
<p>Building frequency dictionary</p>
</li>
<li>
<p>Select 2 minimum frequency symbols and merge them repeatedly: Used Min Heap</p>
</li>
<li>
<p>Build a tree of the above process: Created a HeapNode class and used objects to maintain tree structure</p>
</li>
<li>
<p>Assign code to characters: Recursively traversed the tree and assigned the corresponding codes</p>
</li>
<li>
<p>Encode the input text. Added padding to the encoded text, if it&rsquo;s not of a length of multiple of 8. Stored this padding information, in 8 bits, in the beginning of the resultant code.</p>
</li>
<li>
<p>Write the result to an output binary file, which will be our compressed file.</p>
</li>
</ul>
<h3 id="end-result">End result</h3>
<p>After running on a several sample text files, Compression Ratio on an average was achieved to be 2.1 : 1.</p>
<p>So it&rsquo;s like you have your very own text file compression program.</p>
<p>I implemented both the <em>compression</em> and <em>decompression</em> functions. Decompressing the compressed file brought back the original state of the file, without any data loss.</p>
<p>Before you look at the code from beginning, first check out the outline of the 2 functions <strong>compress</strong> (line 101) and <strong>decompress</strong> (line 157) , and then look at details of the other functions called from them.</p>
<table>
<thead>
<tr>
<th>Compression (line 101)</th>
<th>Decompression (line 157)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Make frequency dictionary</td>
<td>Read binary file</td>
</tr>
<tr>
<td>Make heap</td>
<td>Remove padding</td>
</tr>
<tr>
<td>Merge Nodes and build tree</td>
<td>Decode text</td>
</tr>
<tr>
<td>Make codes</td>
<td>Output decoded text to txt file</td>
</tr>
<tr>
<td>Encode Text</td>
<td></td>
</tr>
<tr>
<td>Pad encodded text</td>
<td></td>
</tr>
<tr>
<td>Make byte array</td>
<td></td>
</tr>
<tr>
<td>Output the byte array to binary file</td>
<td></td>
</tr>
</tbody>
</table>
<p>The class <code>HuffmanCoding</code> takes complete path of the text file to be compressed as parameter. (as its data members store data specific to the input file).</p>
<p>The <em>compress()</em> function returns the path of the output compressed file.</p>
<p>The function <em>decompress()</em> requires path of the file to be decompressed. (and <em>decompress()</em> is to be called from the same object created for <em>compression</em>, so as to get code mapping from its data members)</p>
<script type="application/javascript" src="https://gist.github.com/bhrigu123/a0e50b1b468cff905346b451ab3a2c39.js"></script>

<h3 id="running-the-program">Running the program:</h3>
<p>Save the above code, in a file <code>huffman.py</code>.</p>
<p>Create a sample text file. Or download a sample file from <a href="https://raw.githubusercontent.com/bhrigu123/huffman-coding/master/sample.txt">sample.txt</a> (right click, save as)</p>
<p>Save the code below, in the same directory as the above code, and Run this python code (edit the <code>path</code> variable below before running. initialize it to text file path)</p>
<pre><code class="language-python">from huffman import HuffmanCoding

#input file path
path = &quot;/home/ubuntu/Downloads/sample.txt&quot;

h = HuffmanCoding(path)

output_path = h.compress()
h.decompress(output_path)
</code></pre>
<p>The compressed <code>.bin</code> file and the decompressed file are both saved in the same directory as of the input file.</p>
<h3 id="result">Result:</h3>
<p>On running on the above linked sample text file:</p>
<table>
<thead>
<tr>
<th>Initial Size:</th>
<th>Compressed file size:</th>
</tr>
</thead>
<tbody>
<tr>
<td>715.3 KB</td>
<td>394.0 KB</td>
</tr>
</tbody>
</table>
<p>Plus, the decompressed file comes out to be exactly the same as the original file, without any data loss.</p>
<p>And that is all for Huffman Coding implementation, with compression and decompression. This was fun to code.</p>
<blockquote>
<p>The above program requires the decompression function to be run using the same object that created the compression file (because the code mapping is stored in its data members). We can also make the compression and decompression function run independently, if somehow, during compression we store the mapping info also in the compressed file (in the beginning). Then, during decompression, we will first read the mapping info from the file, then use that mapping info to decompress the rest file.</p>
</blockquote>
<p><a href="https://github.com/bhrigu123/huffman-coding">View On Github</a></p>
                        </div><div class="tags my-3"><a class="badge badge-pill badge-light border mr-2" href="/bhrigu123.github.io/tags/programming">
                                    <i class="fas fa-tag mr-2"></i>Programming
                                </a></div><ul class="share nav my-3 justify-content-end">
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://twitter.com/intent/tweet?url=bhrigu123.github.io%2fpost%2fhuffman-coding-python-implementation%2f&text=Huffman%20Coding%20Python%20Implementation">
              <i class="fa-fw fab fa-twitter"></i>
          </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://www.linkedin.com/shareArticle?url=bhrigu123.github.io%2fpost%2fhuffman-coding-python-implementation%2f&title=Huffman%20Coding%20Python%20Implementation">
                <i class="fa-fw fab fa-linkedin-in"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://www.facebook.com/sharer.php?u=bhrigu123.github.io%2fpost%2fhuffman-coding-python-implementation%2f&t=Huffman%20Coding%20Python%20Implementation">
                <i class="fa-fw fab fa-facebook-f"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://reddit.com/submit?url=bhrigu123.github.io%2fpost%2fhuffman-coding-python-implementation%2f&title=Huffman%20Coding%20Python%20Implementation">
                <i class="fa-fw fab fa-reddit-alien"></i>
            </a>
        </li>
    </nav>
                    </div>
                </div>

                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "bhrigu" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                    </div>
                </div></article>
        </div>
    </div>

    <div class="related-content row mt-5 row-cols-1 row-cols-lg-3"><div class="col mb-3">
                <div class="card h-100">
    
    <a href="bhrigu123.github.io/post/3-jug-problem-python-code/" class="d-block"><img data-src="/bhrigu123.github.io/images/jug/jug_hue1bd731db99909c43fb5d578833012dc_46136_700x350_fill_q75_box_smart1.jpg" class="card-img-top mx-auto d-block" alt="3 Jug Problem Python Code"><div class="card-body">
            <h4 class="card-title">3 Jug Problem Python Code</h4>
            <p class="card-text text-muted text-uppercase">April 4, 2016</p>
            <div class="card-text">
                I came across this image by a Facebook page (Curiosity), which asked a solution to the famous Water Jug problem, involving 3 jugs.

            </div>
        </div>
    </a>
</div>

            </div></div>
</main>


    <footer class="footer text-center bg-dark py-6">
    <div class="container">
        <div class="row">
            <div class="col">
                <ul class="list-inline">
                    <li class="list-inline-item"><a href="bhrigu123.github.io/index.xml" rel="alternate" type="application/rss+xml" class="icons d-block">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a></li><li class="list-inline-item">
                        <a href="mailto:captain.bhrigu@gmail.com" class="icons d-block">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li><li class="list-inline-item">
                            <a href="https://www.facebook.com/bhrigu123/" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-facebook fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://github.com/bhrigu123/" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://twitter.com/CaptainBhrigu" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                </ul>

                <p class="text-muted">
                    
                        Copyright © 2016–2020, Bhrigu Srivastava; all rights reserved.
                    
                </p>

                <p class="text-muted">
                Powered by <a href="https://gohugo.io" target="_blank">Hugo</a>.
                </p>
            </div>
        </div>
    </div>
</footer>

    
    
        
            <script src="/bhrigu123.github.io/dist/[vendors-node_modules_fortawesome_fontawesome-svg-core_index_es_js-node_modules_fortawesome_fr-02de40.js%20vendors-node_modules_jquery_dist_jquery_js.js]"></script>
        
    
        
            <script src="/bhrigu123.github.io/dist/app.js"></script>
        
    
        
            <script src="/bhrigu123.github.io/dist/bootstrap.js"></script>
        
    
        
            <script src="/bhrigu123.github.io/dist/ekkoLightbox.js"></script>
        
    
        
            <script src="/bhrigu123.github.io/dist/lazyload.js"></script>
        
    
        
            <script src="/bhrigu123.github.io/dist/main.js"></script>
        
    



<script>
    window.Prism = window.Prism || {};
    window.Prism.manual = true;
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/plugins/autoloader/prism-autoloader.min.js"></script>






    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-64358360-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</body>
</html>
